<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      OVN and Distributed Controller &middot; GalSagie
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">
  <link rel="stylesheet" href="/public/font-awesome/css/font-awesome.min.css">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p><img src="http://galsagie.github.io/public/img/my_image.jpg" alt="MyImage" width="200" height="200" /></p>
    <p>My blog about everything related to SDN, NFV, Virtualization and Cloud</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>

    

    
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/about/">About</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/archive/">Site Archives</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/categories/">Post Categories</a>
        
      
    
      
    
      
        
          <a class="sidebar-nav-item" href="/tags/">Content Tags</a>
        
      
    
    
  </nav>
  
   <div class="sidebar-item">
    <p>
      <a href="https://github.com/GalSagie"><i class="fa fa-github fa-3x"></i></a>
      <a href="https://twitter.com/GalSagie"><i class="fa fa-twitter fa-3x"></i></a>
      <a href="https://www.linkedin.com/pub/gal-sagie/14/1ab/577"><i class="fa fa-linkedin-square fa-3x"></i></a>
      <a href="http://galsagie.github.io/feed.xml"><i class="fa fa-rss fa-3x"></i></a>
    </p>
  </div>

  <div class="sidebar-item">
    <p>
      &copy; 2015. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">GalSagie</a>
            <small>A blog about network virtualization and cloud</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">OVN and Distributed Controller</h1>
  <span class="post-date">16 Jan 2015</span>
  <p>If you havent heard about it until now, make sure to read the following blog post:
<a href="http://networkheresy.com/2015/01/13/ovn-bringing-native-virtual-networking-to-ovs/">OVN, Bringing Native Virtual Networking to OVS.</a>
And the <a href="http://openvswitch.org/pipermail/dev/2015-January/050380.html">more detailed architecture design of OVN in OVS offical documentation.</a></p>

<p>The more relevant and interesting phrase, in my opinion, from that entire blog is this:</p>

<p>“Open vSwitch is the most popular choice of virtual switch in OpenStack deployments. To make OVS more effective in these environments, we believe the logical next step is to augment the low-level switching capabilities with a lightweight control plane that provides native support for common virtual networking abstractions.”</p>

<p>I have seen a lot of posts regarding this, and it certainly a very interesting project to look for, but i want to tackle this from few interesting views:</p>

<h2>Policy</h2>

<p>Reading this architecture reminded me a lot of something else, it reminded me the way <a href="http://www.cisco.com/c/en/us/solutions/collateral/data-center-virtualization/application-centric-infrastructure/white-paper-c11-731302.html">Cisco OpFlex</a> is communicated between the controller and the agent running on the end nodes.</p>

<p>Similar or not, in my view SDN implementors are starting to realize that we tried to abstract the control from the data plane using only protocols, and maybe thats just not enough.</p>

<p>By having an agent / controller / lightweight controller / you name it running on the infrastructure at every end point (hypervisors and physical devices) we can concentrate on two things:</p>

<ul>
<li><p>Building a  common policy language/protocol/API between all IT teams, which is application aware and can be distributed to all the network infrastructure nodes. 
Without having to worry how every infrastructure piece is going to implement it
(Few interesting projects in that area are OpFlex and Congress)</p></li>
<li><p>Building protocols/standards (many) for locally applying the above policy to software/hardware
(For example OpenFlow)</p></li>
</ul>

<p>Without getting into right or wrong debate, i believe this delegation approach simplifiy things
and help the community continue to develop the two aspects seperated from each other.</p>

<p>Having a &quot;control&quot; entity in the end nodes can show value in other areas (hint: OAM, wait for my next post to read more about smart agents).</p>

<p>There are some solutions already fully distributed, running on the end nodes, <a href="http://bradhedlund.com/2012/10/06/mind-blowing-l2-l4-network-virtualization-by-midokura-midonet/">Midokura MidoNet</a> is one of them.</p>

<h2>Virtual Network Function Distribution</h2>

<p>The trend of NFV is already here, virtual appliances for network functions are already
deployed and used in the data center, especially for east-west traffic.</p>

<p>The way they are used today is usually as a VM / dedicated node that is used as a logical gateway edge appliance where all traffic goes through.</p>

<p>This approach proves to cause bottlenecks and we are seeing more and more solutions that try to distribute these network functions to the infrastructure end nodes (more specifically the hypervisors).</p>

<p>Example projects are OpenStack DVR, and NSX micro segmentation approach (distributed firewall).</p>

<p>In my opinion this new approach will be used more and more, having a control entity in the hosts can certainly help manage these functions.</p>

<h2>Context</h2>

<p>This relates to the last subject but i feel is important enough to stand on its own.</p>

<p>The hypervisor is the only place where application meets the network, we can not extract this value or correlation context anywhere else in the network.</p>

<p>physical devices usually try to apply sophisticated (performance expensive) DPI methods to extract this context.</p>

<p>There are many use cases where a smart control entity (sitting in the hypervisor) can use this information to make better decisions.</p>

  <span class="post-date">Tags:
    
    


  <a href="http://galsagie.github.io/tags/#NFV">NFV</a>
  
    &middot;
  

  <a href="http://galsagie.github.io/tags/#OVN">OVN</a>
  
    &middot;
  

  <a href="http://galsagie.github.io/tags/#OVS">OVS</a>
  
    &middot;
  

  <a href="http://galsagie.github.io/tags/#SDN">SDN</a>
  



  </span>
  
    <span class="post-date">
    &larr; Previous Post: <a href="/oam/virtualization/2015/01/15/mss-clamping/">MSS Clamping As A Tale Of Network Visibility</a></span>
  
  
    <span class="post-date">
    Next Post: <a href="/sdn/nfv/virtualization/2015/01/21/nfv-acceleration/">NFV Acceleration (Part 1)</a> &rarr;</span>
  

  <span class="post-sharing"><p>Be social and share this post!<br />

<a href="https://www.facebook.com/sharer/sharer.php?u=http://galsagie.github.io/ovs/virtualization/2015/01/16/ovn-distributed-controller/" title="Share on Facebook"><i class="fa fa-facebook-square fa-2x"></i></a> 
<a href="https://twitter.com/intent/tweet?text=http://galsagie.github.io/ovs/virtualization/2015/01/16/ovn-distributed-controller/" title="Share on Twitter"><i class="fa fa-twitter-square fa-2x"></i></a> 
<a href="https://plus.google.com/share?url=http://galsagie.github.io/ovs/virtualization/2015/01/16/ovn-distributed-controller/" title="Share on Google Plus"><i class="fa fa-google-plus-square fa-2x"></i></a></p></span>
</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="http://galsagie.github.io/sdn/nfv/virtualization/2015/01/25/nfv-acceleration-2/">
            NFV Acceleration (Part 2)
            <small>25 Jan 2015</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="http://galsagie.github.io/sdn/oam/virtualization/2015/01/23/topology-visibility/">
            Topology Visibility in Virtualized Environments
            <small>23 Jan 2015</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="http://galsagie.github.io/sdn/nfv/virtualization/2015/01/21/nfv-acceleration/">
            NFV Acceleration (Part 1)
            <small>21 Jan 2015</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

  <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'galsagie'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
 
<!-- Start of StatCounter Code for Default Guide -->
<script type="text/javascript">
var sc_project=10238945; 
var sc_invisible=0; 
var sc_security="ea2d3a16"; 
var scJsHost = (("https:" == document.location.protocol) ?
"https://secure." : "http://www.");
document.write("<sc"+"ript type='text/javascript' src='" +
scJsHost+
"statcounter.com/counter/counter.js'></"+"script>");
</script>
<noscript><div class="statcounter"><a title="shopify visitor
statistics" href="http://statcounter.com/shopify/"
target="_blank"><img class="statcounter"
src="http://c.statcounter.com/10238945/0/ea2d3a16/0/"
alt="shopify visitor statistics"></a></div></noscript>
<!-- End of StatCounter Code for Default Guide --> 

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
